<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" ng-app><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" ng-app="aprovapp">
<!--<![endif]-->

<head>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />

  <!--<link rel="stylesheet" href="/static/foundation/css/normalize.css" />
  <link rel="stylesheet" href="/static/foundation/css/foundation.css" />-->

  <link rel="stylesheet" href="/static/almost-flat-ui/stylesheets/normalize.css" />
  <link rel="stylesheet" href="/static/almost-flat-ui/stylesheets/app.css" />

  <link rel="stylesheet" href="/static/foundation/foundation_icons_general/stylesheets/general_foundicons.css" />
  <!-- <link rel="stylesheet" href="/static/foundation/foundation_icons_general_enclosed/stylesheets/general_enclosed_foundicons.css" /> -->

  <script src="/static/foundation/js/vendor/custom.modernizr.js"></script>

  <link rel="stylesheet" href="/static/js/modal/modal.css" />

  <title>MODAL TEST</title>

  <!-- <link href="/static/css/aprovapp.css" rel="stylesheet" media="screen"> -->


</head>

<body ng-cloak>

<div modal></div>
<div dont-touch></div>

<h1>Modal Test</h1>

<p>force scroll</p><p>force scroll</p><p>force scroll</p>

<div ng-controller="MainAreaCtrl">

  <p>TEST: {{ test }} {{ x }}</p>

  <ul class="disc"> 
    <li><a ng-click="alert()">ALERT box</a></li>
    <li><a ng-click="alertBlock()">ALERT box blocked</a></li>
    <li><a ng-click="openDontTouch()">OVERLAY</a></li>
    <li><a ng-click="openDontTouchBlock()">OVERLAY blocked</a></li>
    <li><a ng-click="confirm()">CONFIRM BOX</a></li>
    <li><a ng-click="confirmWithAction()">CONFIRM BOX</a></li>
    <li><a ng-click="simple()">SIMPLE</a></li>
  </ul>

</div>


<p>force scroll</p>
<p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p><p>force scroll</p>


<script>
document.write('<script src=' +
  ('__proto__' in {} ? '/static/foundation/js/vendor/zepto' : '/static/foundation/js/vendor/jquery') +
  '.js><\/script>')
</script>

<script src="/static/js/app/vendor/angular.min.js" type="text/javascript"></script>
<script src="/static/js/modal/modal.js" type="text/javascript"></script>

<script>

  var app = angular.module('aprovapp', []);

  registerDontTouch(app);
  registerModal(app);

  app.controller('MainAreaCtrl',
    ['$scope', 'modalService', 'dontTouchService', function($scope, modal, dontTouch) {
    
    $scope.modal_test_msg = 'Alert box';
    $scope.dont_touch_test_msg = 'Click to Test DONT TOUCH';

    $scope.test = "TESTING";
    $scope.x = 0;

    
    $scope.alert = function() {
        modal.alert({
          block: false,
          title: "Livre",
          lead: "Basta clicar ou apertar ESC",
          txt: "em qualquer lugar para esconder",
          onConfirm: function(scope) {
            $scope.x += 1;
            $scope.test = "OK";
            return true;
          },
          onDismiss: function(scope) {
            $scope.x += 1;
            $scope.test = "DISMISS";
            return true;
          }
        });
    };

    $scope.alertBlock = function() {
         modal.alert({
          block: true,
          title: "Livre",
          lead: "Somente o ESC ou o clique em algum botão",
          txt: "Só assim para fechar esta janela",
          confirm_caption: "Sou um botão OK diferente",
          onConfirm: function(scope) {
            $scope.x += 1;
            $scope.test = "OK";
            return true;
          },
          onDismiss: function(scope) {
            $scope.x += 1;
            $scope.test = "DISMISS";
            return true;
          }
        });
    };

    $scope.confirm = function() {
        modal.confirm({
          block: false,
          title: "Livre",
          lead: "Somente o ESC ou o clique em algum botão",
          txt: "Só assim para fechar esta janela",
          confirm_caption: "CONFIRMA",
          onConfirm: function(scope) {
            $scope.x += 1;
            $scope.test = "OK";
            return true;
          },
          onDismiss: function(scope) {
            $scope.x += 1;
            $scope.test = "DISMISS";
            return true;
          }
        });
    };

    $scope.confirmWithAction = function() {
        modal.confirm({
          block: false,
          title: "Livre",
          lead: "Somente o ESC ou o clique em algum botão",
          txt: "Só assim para fechar esta janela",
          confirm_caption: "CONFIRMA",
          action_btn: true,
          action_caption: "ABRIR UM ALERTA",
          onConfirm: function(scope) {
            $scope.x += 1;
            $scope.test = "OK";
            return true;
          },
          onDismiss: function(scope) {
            $scope.x += 1;
            $scope.test = "DISMISS";
            return true;
          },
          onAction: function(scope) {
            $scope.x += 1;
            $scope.test = "ACTION";
            modal.alert({
              title : 'OUTRO ALERTA!',
              lead : 'Esse é bom!'
            });
            return true;
          }
        });
    };

    $scope.simple = function() {
        modal.confirm({
          title: "SIMPLES",
          animate: false
        });
    };


    $scope.openDontTouch = function() {
        dontTouch.on();
    }

    $scope.openDontTouchBlock = function() {
        dontTouch.on(true);
    }

  }]);



</script>


</body>
</html>